{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nexport const fetchImg = searchQuery => {\n    const searchParams = new URLSearchParams({\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        key: '45504583-80571ec5a383edfe03322cd8c',\n    });\n    return fetch(`${BASE_URL}?${searchParams.toString()}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    });\n}","export const createGalleryCardTemplate = infoImg => {\n    return `\n    <li class=\"gallery-card\">\n        <a class=\"gallery-link\" href=\"${infoImg.largeImageURL}\">\n            <img class=\"gallery-img\" src=\"${infoImg.webformatURL}\" alt=\"${infoImg.tags}\" />\n        </a>\n        <div class=\"image-info\">\n            <p class=\"img-descr\"><span class=\"text-descr\">Likes</span><span class=\"quantity-descr\">${infoImg.likes}</span></p>\n            <p class=\"img-descr\"><span class=\"text-descr\">Views</span><span class=\"quantity-descr\">${infoImg.views}</span></p>\n            <p class=\"img-descr\"><span class=\"text-descr\">Comments</span><span class=\"quantity-descr\">${infoImg.comments}</span></p>\n            <p class=\"img-descr\"><span class=\"text-descr\">Downloads</span><span class=\"quantity-descr\">${infoImg.downloads}</span></p>\n        </div>\n        </li>`\n}","import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport { fetchImg } from \"./js/pixabay-api\";\nimport { createGalleryCardTemplate } from \"./js/render-functions\";\nconst form = document.querySelector('.js-search-form');\nconst gallerySelected = document.querySelector('.js-gallery');\nconst lightbox = new SimpleLightbox('.js-gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        captions: true,\n        animationSpeed: 300,\n        close: true,\n});\nconst loader = document.querySelector('.loader');\nconst handleSubmit = event => {\n    event.preventDefault();\n    gallerySelected.innerHTML = '';\n    const searchInput = form.elements.user_query.value.trim();\n    if (!searchInput) {\n        return\n    }\n    loader.classList.remove('is-hidden');\n    fetchImg(searchInput).then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        maxWidth: '400px',\n        backgroundColor: '#daff00',\n            });\n            return;\n        }\n        const cardsGalleryList = data.hits.map(card => createGalleryCardTemplate(card)).join('');\n        gallerySelected.innerHTML = cardsGalleryList;\n        lightbox.refresh();\n    }).catch(err => {\n        console.error(err);\n        iziToast.error({\n        title: 'Error',\n        message: 'Oops! Error! Try again later!',\n        position: 'topRight',\n        maxWidth: '400px',\n        backgroundColor: '#daff00',\n        });\n    }).finally(() => {\n        form.reset();\n        loader.classList.add('is-hidden');\n    })\n}\nform.addEventListener('submit', handleSubmit)"],"names":["BASE_URL","fetchImg","searchQuery","searchParams","response","createGalleryCardTemplate","infoImg","form","gallerySelected","lightbox","SimpleLightbox","loader","handleSubmit","event","searchInput","data","iziToast","cardsGalleryList","card","err"],"mappings":"wvBAAA,MAAMA,EAAW,2BACJC,EAAWC,GAAe,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,IAAK,oCACb,CAAK,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAa,SAAQ,CAAE,EAAE,EAAE,KAAKC,GAAY,CACpE,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,ECfaC,EAA4BC,GAC9B;AAAA;AAAA,wCAE6BA,EAAQ,aAAa;AAAA,4CACjBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,qGAGeA,EAAQ,KAAK;AAAA,qGACbA,EAAQ,KAAK;AAAA,wGACVA,EAAQ,QAAQ;AAAA,yGACfA,EAAQ,SAAS;AAAA;AAAA,eCNpHC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAkB,SAAS,cAAc,aAAa,EACtDC,EAAW,IAAIC,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,IACd,SAAU,GACV,eAAgB,IAChB,MAAO,EACf,CAAC,EACKC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAeC,GAAS,CAC1BA,EAAM,eAAc,EACpBL,EAAgB,UAAY,GAC5B,MAAMM,EAAcP,EAAK,SAAS,WAAW,MAAM,OAC9CO,IAGLH,EAAO,UAAU,OAAO,WAAW,EACnCV,EAASa,CAAW,EAAE,KAAKC,GAAQ,CAC/B,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBC,EAAS,MAAM,CACnB,MAAO,QACP,QAAS,2EACT,SAAU,WACV,SAAU,QACV,gBAAiB,SACzB,CAAa,EACD,MACH,CACD,MAAMC,EAAmBF,EAAK,KAAK,IAAIG,GAAQb,EAA0Ba,CAAI,CAAC,EAAE,KAAK,EAAE,EACvFV,EAAgB,UAAYS,EAC5BR,EAAS,QAAO,CACxB,CAAK,EAAE,MAAMU,GAAO,CACZ,QAAQ,MAAMA,CAAG,EACjBH,EAAS,MAAM,CACf,MAAO,QACP,QAAS,gCACT,SAAU,WACV,SAAU,QACV,gBAAiB,SACzB,CAAS,CACT,CAAK,EAAE,QAAQ,IAAM,CACbT,EAAK,MAAK,EACVI,EAAO,UAAU,IAAI,WAAW,CACxC,CAAK,EACL,EACAJ,EAAK,iBAAiB,SAAUK,CAAY"}